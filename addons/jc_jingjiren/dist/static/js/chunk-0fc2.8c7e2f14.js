(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0fc2"],{"87hL":function(t,e,i){},"8QsW":function(t,e,i){"use strict";var a=i("eHSm");i.n(a).a},G1E7:function(t,e,i){},H5L3:function(t,e,i){"use strict";var a=i("G1E7");i.n(a).a},"KO+S":function(t,e,i){},PdMC:function(t,e,i){"use strict";var a=i("gJYG");i.n(a).a},ZySA:function(t,e,i){"use strict";var a=i("P2sY"),n=i.n(a),s=(i("jUE0"),{bind:function(t,e){t.addEventListener("click",function(i){var a=n()({},e.value),s=n()({ele:t,type:"hit",color:"rgba(0, 0, 0, 0.15)"},a),o=s.ele;if(o){o.style.position="relative",o.style.overflow="hidden";var r=o.getBoundingClientRect(),l=o.querySelector(".waves-ripple");switch(l?l.className="waves-ripple":((l=document.createElement("span")).className="waves-ripple",l.style.height=l.style.width=Math.max(r.width,r.height)+"px",o.appendChild(l)),s.type){case"center":l.style.top=r.height/2-l.offsetHeight/2+"px",l.style.left=r.width/2-l.offsetWidth/2+"px";break;default:l.style.top=(i.pageY-r.top-l.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",l.style.left=(i.pageX-r.left-l.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return l.style.backgroundColor=s.color,l.className="waves-ripple z-active",!1}},!1)}}),o=function(t){t.directive("waves",s)};window.Vue&&(window.waves=s,Vue.use(o)),s.install=o;e.a=s},"b/IV":function(t,e,i){"use strict";var a=i("87hL");i.n(a).a},bN1i:function(t,e,i){"use strict";i.d(e,"d",function(){return r}),i.d(e,"e",function(){return l}),i.d(e,"a",function(){return c}),i.d(e,"c",function(){return u}),i.d(e,"b",function(){return d}),i.d(e,"f",function(){return p});var a=i("Kw5r"),n=i("vDqi"),s=i.n(n),o=i("Q2AE");function r(t,e){s.a.get(t.$store.state.baseurl+"r=bk-category",{params:{page:e.page,size:e.limit}}).then(function(e){t.$store.dispatch("projectindex/getcategory",e.data)}).catch(function(t){console.log(t)})}a.default.use(s.a);var l=function(t){return s.a.get(o.a.state.baseurl+"r=bk-category",{params:{page:t.page,size:t.limit}}).then(function(t){return t.data})},c=function(t){return s.a.post(o.a.state.baseurl+"r=bk-category/createup",{title:t.title,is_open:t.is_open,is_index:t.is_index,description:t.description}).then(function(t){return t.data})},u=function(t){return s.a.post(o.a.state.baseurl+"r=bk-category/createup",{id:t.id,title:t.title,is_open:t.is_open,is_index:t.is_index,description:t.description}).then(function(t){return t.data})},d=function(t){return s.a.get(o.a.state.baseurl+"r=bk-category/del",{params:{id:t}}).then(function(t){return t.data})},p=function(t){return s.a.get(o.a.state.baseurl+"r=bk-category/one",{params:{id:t}}).then(function(t){return t.data})}},e8xk:function(t,e,i){"use strict";i.r(e);var a=i("QbLZ"),n=i.n(a),s=i("L2JU"),o={name:"SetProcess",data:function(){return{limit:2,accepttype:".jpg,.png,.jpeg",showfile:!0,uploadListimg:"",fileList:[]}},computed:n()({},Object(s.c)({imgurl:function(t){return t.projectlist.add.img_path},img:function(t){return t.projectlist.add.img},baseurl:function(t){return t.baseurl+"r=base/addimg"}})),created:function(){this.init()},methods:{init:function(){for(var t=this.imgurl,e=0;e<t.length;e++)this.fileList.push({id:this.img,name:"",url:t[e]})},handleRemove:function(t,e){for(var i=[],a=0;a<e.length;a++)e[a].response?i.push(e[a].response.id):i.push(e[a].id);this.uploadDetail=i.join(","),this.$store.dispatch("projectlist/addlistid",this.uploadDetail)},handlePreview:function(t){console.log(t)},handleoverlimit:function(){this.$message({message:"文件数量超出限制，最多上传1张图片",type:"warning"})},handleUploadSucess:function(t,e,i){this.$message({message:"上传成功",type:"success"}),this.uploadListimg=t.id,this.$store.dispatch("projectlist/addlistid",this.uploadListimg)},handledefeat:function(t,e,i){this.$message({message:"上传失败",type:"warning"})},handleChange:function(t,e){this.fileList=e.slice(-1)}}},r=(i("8QsW"),i("KHd+")),l=Object(r.a)(o,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-upload",{staticClass:"upload-demo",attrs:{limit:t.limit,"on-preview":t.handlePreview,"on-remove":t.handleRemove,"on-success":t.handleUploadSucess,accept:t.accepttype,"on-exceed":t.handleoverlimit,"on-error":t.handledefeat,"on-change":t.handleChange,"file-list":t.fileList,action:t.baseurl,"list-type":"picture"}},[i("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("(注：只能上传jpg/png文件，且不超过500kb，推荐尺寸140*96)")])],1)],1)},[],!1,null,"0f70969e",null);l.options.__file="UploadaddListimg.vue";var c=l.exports,u=i("s1T2"),d=i("glbJ"),p=i("q2t4"),m=i("ZySA"),f=i("bN1i"),h={directives:{waves:m.a},components:{UploadListimg:c,UploadBanner:u.a,Tinymce:d.a},filters:{statusFilter:function(t){return{true:"success",false:"danger"}[t]}},data:function(){return{activeName:"first",inputVisible:!1,inputValue:"",listQuery:{page:1,limit:20}}},computed:n()({filelist:function(){for(var t=this.$store.state.projectlist.add.slide_path,e=[],i=0;i<t.length;i++)e.push({name:t[i].name,url:t[i].path,id:t[i].id});return e}},Object(s.c)({img:function(t){return t.projectlist.add.slide.toString()},processTypeOptions:function(t){return t.projectindex.list},formDataProject:function(t){return t.projectlist.add}})),created:function(){this.getCategory()},methods:{handleClose:function(t){this.formDataProject.tags.splice(this.formDataProject.tags.indexOf(t),1)},getCategory:function(){Object(f.d)(this,this.listQuery)},showInput:function(){var t=this;this.inputVisible=!0,this.$nextTick(function(e){t.$refs.saveTagInput.$refs.input.focus()})},handleInputConfirm:function(){var t=this.inputValue;t&&this.formDataProject.tags.push(t),this.inputVisible=!1,this.inputValue=""},handleSubmit:function(){var t=this;this.$confirm("新增项目提示, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){Object(p.a)(t.formDataProject).then(function(e){"success"===e.status.state&&(t.$store.dispatch("projectlist/resettemp"),t.$router.push({path:"/project/manage"}),t.getList(),t.$message({type:"success",message:"添加成功!"}))})}).catch(function(){})},removeDomain:function(t){var e=this.formDataProject.process.indexOf(t);-1!==e&&this.formDataProject.process.splice(e,1)},addDomain:function(){var t=this.formDataProject.process.length;this.formDataProject.process.splice(t-1,0,{key:Date.now(),process_name:"",order:""})},childupload:function(t){this.$store.dispatch("projectlist/addbannerid",t)}}},g=(i("b/IV"),Object(r.a)(h,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("el-tabs",{staticClass:"tab-scroll add-container",model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{staticClass:"el-tab-pane",attrs:{label:"基本信息",name:"first"}},[i("keep-alive",[i("div",{attrs:{name:"first"}},[i("el-row",{staticStyle:{"padding-top":"16px","margin-bottom":"0px"},attrs:{gutter:3}},[i("el-col",{attrs:{span:5}},[i("div",{staticClass:"grid-content  grid-content-l",staticStyle:{"min-height":"380px"}},[t._v("\n                业务信息\n              ")])]),t._v(" "),i("el-col",{staticClass:"grid-content-wrapper",attrs:{span:19}},[i("div",{staticClass:"grid-content grid-content-r",staticStyle:{"min-height":"380px"}},[i("el-form",{staticStyle:{padding:"0 30px"},attrs:{model:t.formDataProject,"label-position":"right","label-width":"100px"}},[i("el-form-item",{attrs:{label:"项目名称"}},[i("el-input",{attrs:{placeholder:"请输入项目名称"},model:{value:t.formDataProject.name,callback:function(e){t.$set(t.formDataProject,"name",e)},expression:"formDataProject.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"项目副标题"}},[i("el-input",{attrs:{placeholder:"请输入项目副标题"},model:{value:t.formDataProject.subname,callback:function(e){t.$set(t.formDataProject,"subname",e)},expression:"formDataProject.subname"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"项目分类"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择项目分类"},model:{value:t.formDataProject.category_id,callback:function(e){t.$set(t.formDataProject,"category_id",e)},expression:"formDataProject.category_id"}},t._l(t.processTypeOptions,function(t){return i("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})}))],1),t._v(" "),i("el-form-item",{attrs:{label:"项目标签"}},[t._l(t.formDataProject.tags,function(e){return i("el-tag",{key:e,attrs:{"disable-transitions":!1,closable:""},on:{close:function(i){t.handleClose(e)}}},[t._v("\n                      "+t._s(e)+"\n                    ")])}),t._v(" "),t.inputVisible?i("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:t.handleInputConfirm},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleInputConfirm(e):null}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}):i("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:t.showInput}},[t._v("+ 添加标签")])],2),t._v(" "),i("el-form-item",{attrs:{label:"状态"}},[i("el-select",{attrs:{placeholder:"请选择项目启用状态"},model:{value:t.formDataProject.is_open,callback:function(e){t.$set(t.formDataProject,"is_open",e)},expression:"formDataProject.is_open"}},[i("el-option",{key:"state1",attrs:{label:"启用",value:"1"}}),t._v(" "),i("el-option",{key:"state0",attrs:{label:"禁用",value:"0"}})],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"排序"}},[i("el-input",{attrs:{placeholder:"设置显示顺序，输入数值，值越大显示越靠前"},model:{value:t.formDataProject.order,callback:function(e){t.$set(t.formDataProject,"order",e)},expression:"formDataProject.order"}})],1)],1)],1)])],1),t._v(" "),i("el-row",{staticStyle:{"padding-top":"0px","border-top":"3px solid rgb(239,244,250)"},attrs:{gutter:3}},[i("el-col",{staticStyle:{height:"100%"},attrs:{span:5}},[i("div",{staticClass:"grid-content  grid-content-l",staticStyle:{"min-height":"530px"}},[t._v("\n                项目信息\n              ")])]),t._v(" "),i("el-col",{staticClass:"grid-content-wrapper",attrs:{span:19}},[i("div",{staticClass:"grid-content grid-content-r",staticStyle:{"min-height":"530px"}},[i("el-form",{staticStyle:{padding:"0 30px"},attrs:{model:t.formDataProject,"label-position":"right","label-width":"140px"}},[i("el-form-item",{attrs:{label:"佣金比例"}},[i("el-input",{staticClass:"info-yj-input",attrs:{placeholder:"输入数字",type:"number"},model:{value:t.formDataProject.vt_price_percent,callback:function(e){t.$set(t.formDataProject,"vt_price_percent",e)},expression:"formDataProject.vt_price_percent"}}),t._v(" "),i("span",{staticClass:"info-yj-input-text"},[t._v("%")])],1),t._v(" "),i("el-form-item",{attrs:{label:"预计佣金"}},[i("el-input",{staticClass:"info-yj-input",attrs:{placeholder:"输入数字",type:"number"},model:{value:t.formDataProject.min_price,callback:function(e){t.$set(t.formDataProject,"min_price",e)},expression:"formDataProject.min_price"}}),t._v(" "),i("span",{staticClass:"info-yj-input-text"},[t._v("---")]),t._v(" "),i("el-input",{staticClass:"info-yj-input",attrs:{placeholder:"输入数字",type:"number"},model:{value:t.formDataProject.max_price,callback:function(e){t.$set(t.formDataProject,"max_price",e)},expression:"formDataProject.max_price"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"已发放金额(虚拟)"}},[i("el-input",{staticClass:"info-yj-input",attrs:{placeholder:"输入数字",type:"number"},model:{value:t.formDataProject.vt_price_already,callback:function(e){t.$set(t.formDataProject,"vt_price_already",e)},expression:"formDataProject.vt_price_already"}}),t._v(" "),i("span",{staticClass:"info-yj-input-text"},[t._v("元")])],1),t._v(" "),i("el-form-item",{attrs:{label:"已成交业务(虚拟)"}},[i("el-input",{staticClass:"info-yj-input",attrs:{placeholder:"输入数字",type:"number"},model:{value:t.formDataProject.vt_price_total,callback:function(e){t.$set(t.formDataProject,"vt_price_total",e)},expression:"formDataProject.vt_price_total"}}),t._v(" "),i("span",{staticClass:"info-yj-input-text"},[t._v("单")])],1),t._v(" "),i("el-form-item",{attrs:{label:"已申请人数(虚拟)"}},[i("el-input",{staticClass:"info-yj-input",attrs:{placeholder:"输入数字",type:"number"},model:{value:t.formDataProject.vt_project_count,callback:function(e){t.$set(t.formDataProject,"vt_project_count",e)},expression:"formDataProject.vt_project_count"}}),t._v(" "),i("span",{staticClass:"info-yj-input-text"},[t._v("人")])],1),t._v(" "),i("el-form-item",{attrs:{label:"项目缩略图"}},[i("upload-listimg")],1)],1)],1)])],1)],1)])],1),t._v(" "),i("el-tab-pane",{staticClass:"el-tab-pane",attrs:{label:"项目详情",name:"second"}},[i("keep-alive",[i("el-row",{staticStyle:{"padding-top":"20px","margin-bottom":"0px",background:"white"},attrs:{gutter:3}},[i("el-col",{attrs:{span:5}},[i("div",{staticClass:"grid-content  grid-content-l",staticStyle:{"min-height":"800px"}},[t._v("\n              业务信息\n            ")])]),t._v(" "),i("el-col",{staticClass:"grid-content-wrapper",attrs:{span:19}},[i("div",{staticClass:"grid-content grid-content-r",staticStyle:{"max-width":"900px"}},[i("h6",{staticClass:"uploadimg-h6"},[t._v("1.添加项目详情简介")]),t._v(" "),i("tinymce",{attrs:{height:360},model:{value:t.formDataProject.description,callback:function(e){t.$set(t.formDataProject,"description",e)},expression:"formDataProject.description"}}),t._v(" "),i("h6",{staticClass:"uploadimg-h6"},[t._v("2.上传项目图片(轮播展示用,最多上传5张,推荐尺寸375*165)")]),t._v(" "),i("upload-banner",{attrs:{filelist:t.filelist,imgid:t.img,proptitle:"修改项目轮播图",size:"375*165"},on:{childupload:t.childupload}})],1)])],1)],1)],1),t._v(" "),i("el-tab-pane",{staticClass:"el-tab-pane",attrs:{label:"流程设置",name:"third"}},[i("keep-alive",[i("el-row",{staticStyle:{"padding-top":"20px","margin-bottom":"0px",background:"white"},attrs:{gutter:3}},[i("el-col",{staticStyle:{height:"100%"},attrs:{span:5}},[i("div",{staticClass:"grid-content  grid-content-l"},[t._v("\n              流程设置\n            ")])]),t._v(" "),i("el-col",{attrs:{span:19}},[i("div",{staticClass:"grid-content grid-content-r",staticStyle:{"border-left":"3px solid rgb(239,244,250)"}},[i("div",[i("div",{staticClass:"tab-title"},[i("div",{staticClass:"tab-title-item tab-title-item-left"},[t._v("序号")]),t._v(" "),i("div",{staticClass:"tab-title-item tab-title-item-right"},[t._v("名称")])]),t._v(" "),i("el-form",{ref:"formDataProject",staticClass:"demo-dynamic",attrs:{model:t.formDataProject,"label-width":"80px"}},[t._l(t.formDataProject.process,function(e,a){return i("el-form-item",{key:e.id},[i("span",{staticClass:"serialnumber"},[t._v(t._s(++a))]),t._v(" "),i("el-input",{staticClass:"process-input",attrs:{readonly:1==a||a==t.formDataProject.process.length},model:{value:e.process_name,callback:function(i){t.$set(e,"process_name",i)},expression:"domain.process_name"}}),t._v(" "),1!=a&&a!=t.formDataProject.process.length?i("i",{staticClass:"el-icon-delete el-icon",on:{click:function(i){i.preventDefault(),t.removeDomain(e)}}}):t._e()],1)}),t._v(" "),i("el-form-item",[i("el-button",{on:{click:t.addDomain}},[t._v("新增步骤")])],1)],2)],1)])])],1)],1)],1)],1),t._v(" "),i("el-row",{staticStyle:{background:"white",padding:"6px 10px","text-align":"right",position:"absolute",left:"10px",right:"0px",bottom:"0px","border-top":"3px solid rgb(239,244,250)"}},[i("el-col",{attrs:{span:24}},[i("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("提交")])],1)],1)],1)},[],!1,null,"5e9aa33a",null));g.options.__file="add.vue";e.default=g.exports},eHSm:function(t,e,i){},eggG:function(t,e,i){"use strict";var a=i("KO+S");i.n(a).a},gJYG:function(t,e,i){},glbJ:function(t,e,i){"use strict";var a=i("4d7F"),n=i.n(a),s=i("GQeE"),o=i.n(s),r=i("QbLZ"),l=i.n(r),c=i("L2JU"),u={name:"EditorSlideUpload",props:{color:{type:String,default:"#1890ff"}},data:function(){return{dialogVisible:!1,listObj:{},fileList:[]}},computed:l()({},Object(c.c)({baseurl:function(t){return t.baseurl+"r=base/addpic"}})),methods:{checkAllSuccess:function(){var t=this;return console.log("checkAllSuccess"),o()(this.listObj).every(function(e){return t.listObj[e].hasSuccess})},handleSubmit:function(){var t=this,e=o()(this.listObj).map(function(e){return t.listObj[e]});this.checkAllSuccess()?(this.$emit("successCBK",e),this.listObj={},this.fileList=[],this.dialogVisible=!1):this.$message("请等待所有图片上传成功")},handleSuccess:function(t,e){for(var i=e.uid,a=o()(this.listObj),n=0,s=a.length;n<s;n++)if(this.listObj[a[n]].uid===i)return this.listObj[a[n]].url=t.url,void(this.listObj[a[n]].hasSuccess=!0)},handleRemove:function(t){for(var e=t.uid,i=o()(this.listObj),a=0,n=i.length;a<n;a++)if(this.listObj[i[a]].uid===e)return void delete this.listObj[i[a]]},beforeUpload:function(t){var e=this,i=window.URL||window.webkitURL,a=t.uid;return this.listObj[a]={},new n.a(function(n,s){var o=new Image;o.src=i.createObjectURL(t),o.onload=function(){e.listObj[a]={hasSuccess:!1,uid:t.uid,width:this.width,height:this.height}},n(!0)})}}},d=(i("eggG"),i("KHd+")),p=Object(d.a)(u,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"upload-container"},[i("el-button",{style:{background:t.color,borderColor:t.color},attrs:{icon:"el-icon-upload",size:"mini",type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("上传图片\n  ")]),t._v(" "),i("el-dialog",{attrs:{visible:t.dialogVisible,modal:!1,"custom-class":"uploadwrapper"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("el-upload",{staticClass:"editor-slide-upload",attrs:{multiple:!0,"file-list":t.fileList,action:t.baseurl,"show-file-list":!0,"on-remove":t.handleRemove,"on-success":t.handleSuccess,"before-upload":t.beforeUpload,"list-type":"picture-card"}},[i("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("(温馨提示：为适应小程序端，建议在编辑器中设置图片宽度最大为375)")])],1),t._v(" "),i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("确 定")])],1)],1)},[],!1,null,"651e5034",null);p.options.__file="editorImage.vue";var m=["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools importcss insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"],f=["bold italic underline strikethrough alignleft aligncenter alignright fontsizeselect undo redo removeformat subscript superscript code codesample","hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen"],h={name:"Tinymce",components:{editorImage:p.exports},props:{id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{type:String,default:"file edit insert view format table"},height:{type:Number,required:!1,default:300}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:"en",zh:"zh_CN"}}},computed:{language:function(){return this.languageTypeList[this.$store.getters.language]}},watch:{value:function(t){var e=this;!this.hasChange&&this.hasInit&&this.$nextTick(function(){return window.tinymce.get(e.tinymceId).setContent(t||"")})},language:function(){var t=this;this.destroyTinymce(),this.$nextTick(function(){return t.initTinymce()})}},mounted:function(){this.initTinymce()},activated:function(){this.initTinymce()},deactivated:function(){this.destroyTinymce()},destroyed:function(){this.destroyTinymce()},methods:{initTinymce:function(){var t=this,e=this;window.tinymce.init({language:"zh_CN",selector:"#"+this.tinymceId,height:this.height,body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:f,menubar:this.menubar,plugins:m,end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",convert_urls:!1,link_title:!1,nonbreaking_force_tab:!0,init_instance_callback:function(i){e.value&&i.setContent(e.value),e.hasInit=!0,i.on("NodeChange Change KeyUp SetContent",function(){t.hasChange=!0,t.$emit("input",i.getContent())})},setup:function(t){t.on("FullscreenStateChanged",function(t){e.fullscreen=t.state})}})},destroyTinymce:function(){window.tinymce.get(this.tinymceId)&&window.tinymce.get(this.tinymceId).destroy()},setContent:function(t){window.tinymce.get(this.tinymceId).setContent(t)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(t){var e=this;t.forEach(function(t){window.tinymce.get(e.tinymceId).insertContent('<img class="wscnph" src="'+t.url+'" >')})}}},g=(i("PdMC"),Object(d.a)(h,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tinymce-container editor-container",class:{fullscreen:this.fullscreen}},[e("textarea",{staticClass:"tinymce-textarea",attrs:{id:this.tinymceId}}),this._v(" "),e("div",{staticClass:"editor-custom-btn-container"},[e("editorImage",{staticClass:"editor-upload-btn",attrs:{color:"#1890ff"},on:{successCBK:this.imageSuccessCBK}})],1)])},[],!1,null,"dcf34926",null));g.options.__file="index.vue";e.a=g.exports},jUE0:function(t,e,i){},q2t4:function(t,e,i){"use strict";i.d(e,"c",function(){return r}),i.d(e,"a",function(){return l}),i.d(e,"b",function(){return c}),i.d(e,"d",function(){return u});var a=i("Kw5r"),n=i("vDqi"),s=i.n(n),o=i("Q2AE");a.default.use(s.a);var r=function(t){return s.a.get(o.a.state.baseurl+"r=bk-project",{params:{page:t.page,size:t.limit,category:t.type,name:t.title}}).then(function(t){return t.data})},l=function(t){return s.a.post(o.a.state.baseurl+"r=bk-project/createup",{data:t}).then(function(t){return t.data})},c=function(t){return s.a.get(o.a.state.baseurl+"r=bk-project/delall",{params:{id:t}}).then(function(t){return t.data})},u=function(t){return s.a.get(o.a.state.baseurl+"r=bk-project/one",{params:{id:t}}).then(function(t){return t.data})}},s1T2:function(t,e,i){"use strict";var a=i("QbLZ"),n=i.n(a),s=i("L2JU"),o={props:{proptitle:{type:String,default:""},size:{type:String,default:""},filelist:{type:Array,default:[]},imgid:{type:String,default:""}},data:function(){return{limit:5,dialogImageUrl:"",dialogVisible:!1,multiple:!0,uploadDetail:""}},computed:n()({},Object(s.c)({baseurl:function(t){return t.baseurl+"r=base/addimg"}})),created:function(){},methods:{handleRemove:function(t,e){for(var i=[],a=0;a<e.length;a++)e[a].response?i.push(e[a].response.id):i.push(e[a].id);this.uploadDetail=i.join(","),this.$emit("childupload",this.uploadDetail)},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},handleoverlimit:function(){this.$message({message:"文件数量超出限制，最多上传5张图片",type:"warning"})},handleSuccess:function(t,e,i){this.$message({message:"上传成功",type:"success"}),this.uploadDetail=this.imgid,""===this.uploadDetail?this.uploadDetail=t.id:this.uploadDetail=this.uploadDetail+","+t.id,this.$emit("childupload",this.uploadDetail)},handledefeat:function(t,e,i){this.$message({message:"上传失败",type:"warning"})}}},r=(i("H5L3"),i("KHd+")),l=Object(r.a)(o,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"banner"},[i("el-upload",{attrs:{limit:t.limit,multiple:t.multiple,"on-preview":t.handlePictureCardPreview,"on-remove":t.handleRemove,"on-exceed":t.handleoverlimit,"on-success":t.handleSuccess,"on-error":t.handledefeat,"file-list":t.filelist,action:t.baseurl,"list-type":"picture-card"}},[i("i",{staticClass:"el-icon-plus"})]),t._v(" "),i("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("img",{attrs:{src:t.dialogImageUrl,width:"100%",alt:""}})])],1)},[],!1,null,"38793e1e",null);l.options.__file="UploadBanner.vue";e.a=l.exports}}]);